<div class="container">
  <div class="row">
      <div class="col-md-8 col-md-offset-2">
        <div id="myCarousel" class="carousel slide">
          <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
          </ol>
          <!-- Carousel items -->
          <div class="carousel-inner">
            <div class="active item"><div id="player"></div></div>
            <div class="item"><img src="<%= movie_image.escape("image_url")%>" alt="" class="carousel-image"/></div>
            <div class="item">
              <!-- <h2>Download Grayscale</h2> -->
              <p>Click <i class="fa fa-angle-double-down animated"></i> For More Info About</p>
              <p><%= movie.title %></p>
              <a href="#/movies/<%= movie.id %>" class="btn btn-default btn-lg">Visit Detail Page</a>
            </div>
          </div>
          <!-- Carousel nav -->
          <a class="carousel-control left icon-prev" href="#myCarousel" data-slide="prev">
            <span class="icon-prev fa-stack fa-lg"></span>
          </a>
          <a class="carousel-control right icon-next" href="#myCarousel" data-slide="next">
            <span class="icon-next fa-stack fa-lg"></span>
        </a>
          </div>
          <a href="#new" class="btn btn-circle page-scroll">
              <i class="fa fa-angle-double-down animated"></i>
          </a>
      </div>
  </div>
</div>

<!-- listen to finish playing  -->
<script src="http://www.youtube.com/player_api"></script>

    <script>
// <iframe width="1220" height="478" src="https://www.youtube.com/embed/gOW_azQbOjw" frameborder="0" allowfullscreen id="player"></iframe>
        // create youtube player
        var player;
        function onYouTubePlayerAPIReady() {
            player = new YT.Player('player', {
              height: '484',
              width: '750',
              videoId: 'gOW_azQbOjw',
              events: {
                'onReady': onPlayerReady,
                'onStateChange': onPlayerStateChange
              }
            });
        }

        // autoplay video
        function onPlayerReady(event) {
            // event.target.playVideo();
            $('.carousel').carousel();
        }

        // when video ends
        function onPlayerStateChange(event) {
          if(event.data === 0) {
              $('.carousel').carousel();
              event.target.parent.removeChild();
          }
        }

        // jQuery for page scrolling feature - requires jQuery Easing plugin
        $(function() {
            $('a.page-scroll').bind('click', function(event) {
                var $anchor = $(this);
                $('html, body').stop().animate({
                    scrollTop: $($anchor.attr('href')).offset().top
                }, 1500, 'easeInOutExpo');
                event.preventDefault();
            });
        });

    </script>
